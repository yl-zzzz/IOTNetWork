# 지하철 승강장의 초미세먼지 농도
-MQTT 프로토콜을 사용하여 청량리역 승강장의 초미세먼지 농도를
 실시간으로 받아오는 프로젝트이다.
 
 # 1. 프로젝트의 필요성
 환경부와 한국환경공단에서 지하철 승강장의 초미세먼지 농도를 누리집과 모바일 애플리케이션으로 확인할 수 있다는 글을 보게 되었고,<br/>
 직접 사이트에 들어가서 확인해봤다. 전국 지하역사에 초미세먼지 자동측정기기 설치를 하고,<br/> 측정결과를 누리집과 모바일 애플리케이션을 구축해 확인할 수 있게 했다.<br/> 
 하지만 1시간 평균 또는 24시간 평균만 확인할 수 있어서 실시간의 데이터를 볼 수 없는 점이 아쉬웠다.<br/> 
 실시간으로 초미세먼지 농도를 확인할 수 있다면 kf가 높은 마스크를 챙긴다든지,<br/> 다른 교통수단을 이용할 수 있어서 실시간으로 확인하는 것이 더 좋을 것 같다는 생각에 이 프로젝트를 구상하게 됐다.
 
 # 2. 시스템 구조
 지하철역 이름, 초미세먼지 농도, 실시간 시간까지 볼 수 있는 모니터링 시스템의 시스템 구조를 보여준다.<br/> 본 시스템은 센서, MQTT Broker, Node. js, Mongo DB, MQTT Publisher, MQTT Subscriber, Web UI로 구성된다.
![image01](https://user-images.githubusercontent.com/71144019/122519454-70e44780-d04d-11eb-9634-3e273ed42622.png)

# 3. 프로젝트 과정
### 1. 공공 데이터 포털에서 실시간 데이터 발급 
### 2. MongoDB에 데이터 저장
### 3. Publish서버가 토픽 발행하고 Broker 서버로 전달
### 4. Subscriber가 토픽 구독하면 Broker 서버가 데이터 전달
### 5. html에 실시간 정보 출력
 
# 3. 결과 화면
![image02](https://user-images.githubusercontent.com/71144019/122520907-2bc11500-d04f-11eb-9fb0-58c3ce8b5841.png)

# 4. 프로젝트를 하면서 느낀점
이 프로젝트를 하면서 MQTT의 구조를 더 쉽게 이해할 수 있었고, 직접 데이터를 API로 가져와서 브로커에게 전달해 주고,<br/>
mongodb에 저장하는 과정을 해보니 실습하지 않았을 때 보다 더 기억에 남고, 다른 프로젝트를 실행할 때에도 응용할 수 있을 것 같다. <br/>
성장을 많이 할 수 있던 프로젝트였다. 이러한 역 내의 초미세먼지 농도가 실생활에선 많이 알려지지 않고,<br/> 실시간으로 데이터를 받아 볼 수가 없는데,
지금 나와 있는 홈페이지나 앱에선 1시간 평균과 24시간 평균만 받아볼 수 있으므로<br/> 실시간 정보를 원하면 버튼을 눌러서 실시간 정보를 알 수 있게 한다면 해당 데이터의 활용도가 꽤 높을 것 같다. <br/>
아직 JSON이나 데이터값을 읽어오는 부분에서 미숙한 면이 있어서 많이 헤맸는데 JSON 사용법과 MQTT 메시지 수신하는 부분을 더 심도 있게 공부한다면 능숙하게 공공데이터나 여러 데이터를 이용해서 많은 프로젝트를 할 수 있게 해야겠다고 다짐했다.
